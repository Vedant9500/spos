import java.util.*;

class SJFProcess {
int pid, arrivalTime, burstTime;
int remainingTime;
int waitingTime, turnaroundTime;

SJFProcess(int pid, int arrivalTime, int burstTime) {
this.pid = pid;
this.arrivalTime = arrivalTime;
this.burstTime = burstTime;
this.remainingTime = burstTime;
}
}

public class SJF {

public static void main(String[] args) {

//Change inputs in this block |
List<SJFProcess> processes = Arrays.asList(
new SJFProcess(1, 0, 7),
new SJFProcess(2, 2, 4),
new SJFProcess(3, 4, 1),
new SJFProcess(4, 5, 4)
);

int time = 0, completed = 0;
int n = processes.size();

while (completed < n) {

SJFProcess shortest = null;

for (SJFProcess p : processes) {
if (p.arrivalTime <= time && p.remainingTime > 0) {
if (shortest == null || p.remainingTime < shortest.remainingTime) {
shortest = p;
}
}
}

if (shortest == null) {
time++;
continue;
}

shortest.remainingTime--;
time++;

if (shortest.remainingTime == 0) {
completed++;
shortest.turnaroundTime = time - shortest.arrivalTime;
shortest.waitingTime = shortest.turnaroundTime - shortest.burstTime;
}
}

System.out.println("SJF Preemptive (SRTF) Scheduling:");
for (SJFProcess p : processes) {
System.out.println(
"P" + p.pid +
" | WT = " + p.waitingTime +
" | TT = " + p.turnaroundTime
);
}
}
}
