import java.util.*;

class RRProcess {
int pid, arrivalTime, burstTime;
int remainingTime;
int waitingTime, turnaroundTime;

RRProcess(int pid, int at, int bt) {
this.pid = pid;
this.arrivalTime = at;
this.burstTime = bt;
this.remainingTime = bt; 
}
}

public class RoundRobin {

public static void main(String[] args) {

int quantum = 3;

//Change inputs in this block |
List<RRProcess> processes = Arrays.asList(
new RRProcess(1, 0, 5),
new RRProcess(2, 1, 3),
new RRProcess(3, 2, 6)
);

processes.sort(Comparator.comparingInt(p -> p.arrivalTime));

Queue<RRProcess> q = new LinkedList<>();
int time = 0, i = 0, n = processes.size();

q.add(processes.get(0));
i = 1;

while (!q.isEmpty()) {
RRProcess p = q.poll();

int exec = Math.min(quantum, p.remainingTime);
p.remainingTime -= exec;
time += exec;

while (i < n && processes.get(i).arrivalTime <= time) {
q.add(processes.get(i));
i++;
}

if (p.remainingTime > 0) {
q.add(p);
} else {
p.turnaroundTime = time - p.arrivalTime;
p.waitingTime = p.turnaroundTime - p.burstTime;
}
}

System.out.println("Round Robin Scheduling:");
for (RRProcess p : processes) {
System.out.println("P" + p.pid + " WT=" + p.waitingTime + " TT=" + p.turnaroundTime);
}
}
}
